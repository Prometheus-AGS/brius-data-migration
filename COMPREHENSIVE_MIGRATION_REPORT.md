# Comprehensive Idempotent Migration Report

**Date:** 2025-11-17T19:28:55.098Z
**Migration Type:** Comprehensive Idempotent Migration
**Total Entities Processed:** 37

## Executive Summary

- **Total Records (Pre-Migration):** 4,239,657
- **New Records Migrated:** 0
- **Total Records (Post-Migration):** 4,239,657

## Migration Results

### ‚úÖ Completed Entities (1)
- **products:** +0 new records (10 existing)

### ‚úÖ Already Migrated (32)
- **offices:** 898 records (complete)
- **profiles:** 9,886 records (complete)
- **categories:** 44 records (complete)
- **roles:** 48 records (complete)
- **purchases:** 3,701 records (complete)
- **payments:** 17,297 records (complete)
- **operations:** 3,720 records (complete)
- **doctors:** 1,339 records (complete)
- **patients:** 8,527 records (complete)
- **technicians:** 85 records (complete)
- **doctor_offices:** 472 records (complete)
- **patients_doctors_offices:** 8,449 records (complete)
- **role_permissions:** 1,346 records (complete)
- **cases:** 8,419 records (complete)
- **orders:** 25,259 records (complete)
- **jaws:** 43,097 records (complete)
- **templates:** 169 records (complete)
- **brackets:** 1,720 records (complete)
- **case_states:** 5,242 records (complete)
- **order_states:** 5,527 records (complete)
- **tasks:** 953,224 records (complete)
- **files:** 325,432 records (complete)
- **case_files:** 160,303 records (complete)
- **order_files:** 160,286 records (complete)
- **message_attachments:** 8,919 records (complete)
- **messages:** 70,685 records (complete)
- **case_messages:** 32,277 records (complete)
- **comments:** 15,097 records (complete)
- **system_messages:** 2,086,573 records (complete)
- **projects:** 72,155 records (complete)
- **treatment_plans:** 209,241 records (complete)
- **template_products:** 178 records (complete)

### ‚ùå Failed Entities (4)
- **order_cases:** Migration script not found
- **treatment_discussions:** Migration script not found
- **patient_events:** Migration script not found
- **technician_roles:** Command failed: npx ts-node migrate-technician-roles-complete.ts
‚ùå Migration failed: Failed to insert technician roles: duplicate key value violates unique constraint "technician_roles_legacy_role_id_key"

üí• Migration Error: Failed to insert technician roles: duplicate key value violates unique constraint "technician_roles_legacy_role_id_key"


### ‚è≠Ô∏è Skipped Entities (0)


## Performance Metrics

- **Total Processing Time:** 19.114 seconds
- **Average Entity Processing Time:** 0.52 seconds
- **Migration Throughput:** 0 records/second

## Next Steps

‚ö†Ô∏è **4 entities require attention.** Review failed migrations and re-run as needed.

---
*Generated by Comprehensive Idempotent Migration Orchestrator*
